<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:models="using:OneFinance.Models"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             xmlns:vm="using:OneFinance.ViewModels"
             x:Class="OneFinance.Views.AccountsFormView"
             x:DataType="vm:AccountsFormViewModel">
  

    <ScrollViewer>
        <StackPanel Margin="24" Spacing="16" MaxWidth="400">
            <Button Content="← Back" Command="{Binding CancelCommand}" Background="Transparent" Padding="0"/>
            <TextBlock Text="{Binding Title}" FontSize="28" FontWeight="Bold"/>

            <StackPanel Spacing="8">
                <TextBlock Text="Type"/>
                <StackPanel Orientation="Horizontal" Spacing="12">
                </StackPanel>
            </StackPanel>

            <StackPanel Spacing="8">
                <TextBlock Text="Account Name"/>
                <TextBox Text="{Binding AccountName}" Watermark="Enter account name..."/>
            </StackPanel>

            <StackPanel Spacing="8">
                <TextBlock Text="Institution"/>
                <TextBox Text="{Binding InstitutionName}" Watermark="Enter Institution name..."/>
            </StackPanel>

            <StackPanel Spacing="8">
                <TextBlock Text="Starting Balance"/>
                <NumericUpDown Value="{Binding Balance}" FormatString="C2" Minimum="0"/>
            </StackPanel>

            <StackPanel Spacing="8">
                <TextBlock Text="Account"/>
                <ComboBox ItemsSource="{Binding AccountTypes}" SelectedItem="{Binding SelectedAccountType}" HorizontalAlignment="Stretch"/>
            </StackPanel>

            <StackPanel Spacing="8">
                <StackPanel Orientation="Horizontal" Spacing="12">
                   <CheckBox IsChecked="{Binding IsDefault}" Content="Set as default account" />
                </StackPanel>
            </StackPanel>

            <TextBlock Text="{Binding ErrorMessage}" Foreground="#EF4444" IsVisible="{Binding HasError}"/>

            <Grid ColumnDefinitions="*,*" Margin="0,16,0,0">
                <Button Content="Cancel" Command="{Binding CancelCommand}" HorizontalAlignment="Stretch" Margin="0,0,4,0"/>
                <Button Grid.Column="1" Content="{Binding SaveButtonText}" Command="{Binding SaveCommand}" Background="#0078D4" Foreground="White" HorizontalAlignment="Stretch" Margin="4,0,0,0"/>
            </Grid>
        </StackPanel>
    </ScrollViewer>
</UserControl>

